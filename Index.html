<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bar Preto & Branco</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0b;
      --panel:#111;
      --muted:#bfbfbf;
      --accent:#fff;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      --radius:14px;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      min-height:100vh;
      background:linear-gradient(180deg,var(--bg),#070707 60%);
      color:var(--accent);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:28px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .container{
      width:100%;
      max-width:1100px;
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:24px;
      align-items:start;
    }

    header{
      grid-column:1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:6px;
    }
    .brand{
      display:flex;align-items:center;gap:14px
    }
    .logo{
      width:62px;height:62px;border-radius:12px;background:linear-gradient(135deg,#111,#1a1a1a);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:22px;color:var(--accent);box-shadow:0 6px 18px rgba(0,0,0,0.6) inset;
    }
    h1{margin:0;font-size:20px;letter-spacing:0.6px}
    p.subtitle{margin:0;color:var(--muted);font-size:13px}

    .search{
      display:flex;gap:8px;align-items:center;background:var(--panel);padding:8px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
      box-shadow:0 8px 30px rgba(0,0,0,0.7);
    }
    .search input{background:transparent;border:0;outline:none;color:var(--accent);width:220px}

    .menu{
      background:linear-gradient(180deg,var(--panel),#0c0c0c);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 6px 30px rgba(0,0,0,0.6);
    }

    .menu-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}

    .card{
      background:var(--glass);
      border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);
      display:flex;flex-direction:column;gap:8px;min-height:110px;justify-content:space-between;transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(0,0,0,0.6)}

    .meta{display:flex;align-items:center;justify-content:space-between}
    .meta .name{font-weight:600}
    .price{font-weight:700}

    .controls{display:flex;align-items:center;gap:8px}
    button.btn{
      background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 10px;border-radius:10px;color:var(--accent);cursor:pointer;font-weight:600;
    }
    .qty{min-width:46px;text-align:center;padding:6px 8px;border-radius:10px;background:var(--glass-2);border:1px solid rgba(255,255,255,0.02)}

    /* sidebar */
    .sidebar{
      background:linear-gradient(180deg,#0d0d0d,#0a0a0a);
      border-radius:var(--radius);padding:18px;position:sticky;top:28px;height:fit-content;box-shadow:0 12px 40px rgba(0,0,0,0.6)
    }
    .sidebar h3{margin:0;font-size:16px}
    .totals{margin-top:12px;border-radius:12px;padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03)}
    .line{display:flex;justify-content:space-between;align-items:center;margin:8px 0}

    .actions{display:flex;gap:8px;margin-top:12px}
    .primary{background:transparent;border:1px solid var(--accent);padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700}
    .ghost{background:transparent;border:1px dashed rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}

    footer{grid-column:1 / -1;margin-top:12px;text-align:center;color:var(--muted);font-size:13px}

    /* modal */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-content {
      background: #111;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 10px 30px rgba(0,0,0,0.8);
    }
    .modal-content img {
      max-width: 100%;
      border-radius: 10px;
      margin: 12px 0;
    }
    .close {
      background: transparent;
      border: 0;
      color: var(--muted);
      font-size: 20px;
      cursor: pointer;
      float: right;
    }

    @media (max-width:880px){
      .container{grid-template-columns:1fr;}
      .sidebar{position:relative;top:auto}
      .menu-grid{grid-template-columns:repeat(1,1fr)}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">BB</div>
        <div>
          <h1>Bar Preto & Branco</h1>
          <p class="subtitle">Cardápio rápido — clique nos + para adicionar</p>
        </div>
      </div>
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" style="opacity:.7"><path d="M21 21l-4.35-4.35" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke-linecap="round" stroke-linejoin="round"></circle></svg>
        <input id="search" placeholder="Pesquisar produto..." />
      </div>
    </header>

    <main class="menu">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h2 style="margin:0">Cardápio</h2>
        <div style="color:var(--muted);font-size:13px">Preços em R$</div>
      </div>
      <div class="menu-grid" id="products"></div>
      <footer>Toque nos produtos para ver quantidade. Os dados são salvos no navegador (localStorage).</footer>
    </main>

    <aside class="sidebar">
      <h3>Resumo do Pedido</h3>
      <div class="totals" id="cart">
        <div class="line"><div style="color:var(--muted)">Itens</div><div id="cart-count">0</div></div>
        <div class="line"><div style="color:var(--muted)">Total</div><div id="cart-total">R$ 0,00</div></div>
        <div class="line"><div style="color:var(--muted)">Desconto</div><div id="cart-discount">R$ 0,00</div></div>
      </div>
      <div class="actions">
        <button class="primary" id="checkout">Finalizar</button>
        <button class="ghost" id="clear">Limpar</button>
      </div>
      <div style="margin-top:12px;color:var(--muted);font-size:13px">
        O carrinho é salvo automaticamente no seu navegador para que os valores persistam ao fechar a aba.
      </div>
    </aside>
  </div>

  <div class="modal" id="pixModal">
    <div class="modal-content">
      <button class="close" id="closeModal">×</button>
      <h3>Pagamento via Pix</h3>
      <p>Escaneie o QR Code abaixo para pagar:</p>
      <img src="qrcode-pix.png" alt="QR Code Pix">
      <p><strong>Total: <span id="pixTotal">R$ 0,00</span></strong></p>
    </div>
  </div>

  <script>
    const PRODUCTS = [
      { id:'bala', name:'Bala', price:0.50 },
      { id:'picole', name:'Picolé', price:1.00 },
      { id:'esquine', name:'Esquiné', price:2.50 },
      { id:'esquine_grande', name:'Esquiné Grande', price:4.00 },
      { id:'pirulito', name:'Pirulito', price:0.50 }
    ];

    let cart = {};
    const $products = document.getElementById('products');
    const $total = document.getElementById('cart-total');
    const $count = document.getElementById('cart-count');

    function currency(num){return num.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});}

    function save(){localStorage.setItem('bb_cart_v1', JSON.stringify(cart));}
    function load(){try{const raw = localStorage.getItem('bb_cart_v1'); if(raw) cart = JSON.parse(raw);}catch(e){cart={}}}

    function renderProducts(filter=''){
      $products.innerHTML='';
      const term=filter.trim().toLowerCase();
      PRODUCTS.filter(p=>p.name.toLowerCase().includes(term)).forEach(p=>{
        const qty=cart[p.id]||0;
        const card=document.createElement('div');
        card.className='card';
        card.innerHTML=`<div><div class="meta"><div class="name">${p.name}</div><div class="price">${currency(p.price)}</div></div></div><div style="display:flex;justify-content:space-between;align-items:center"><div class="controls"><button class="btn dec" data-id="${p.id}">−</button><div class="qty" data-id="${p.id}">${qty}</div><button class="btn inc" data-id="${p.id}">+</button></div><div style="text-align:right;color:var(--muted);font-size:13px">Subtotal<br><strong id="sub-${p.id}">${currency(qty*p.price)}</strong></div></div>`;
        $products.appendChild(card);
      });
    }

    function updateUI(){
      let items=0, total=0;
      for(const id in cart){
        const qty=cart[id];
        const product=PRODUCTS.find(p=>p.id===id);
        if(!product) continue;
        items+=qty;
        total+=qty*product.price;
        const sub=document.getElementById('sub-'+id);
        const qtyEl=document.querySelector('.qty[data-id="'+id+'"]');
        if(sub) sub.textContent=currency(qty*product.price);
        if(qtyEl) qtyEl.textContent=qty;
      }
      $count.textContent=items;
      $total.textContent=currency(total);
      document.getElementById('cart-discount').textContent=currency(0);
      save();
    }

    document.addEventListener('click', e=>{
      const inc=e.target.closest('.inc');
      const dec=e.target.closest('.dec');
      if(inc){const id=inc.dataset.id; cart[id]=(cart[id]||0)+1; updateUI();}
      if(dec){const id=dec.dataset.id; cart[id]=Math.max(0,(cart[id]||0)-1); updateUI();}
    });

    document.getElementById('clear').addEventListener('click',()=>{if(confirm('Limpar carrinho?')){cart={}; save(); renderProducts(document.getElementById('search').value); updateUI();}});

    document.getElementById('checkout').addEventListener('click',()=>{
      const items=Object.values(cart).reduce((s,n)=>s+n,0);
      const total=Object.entries(cart).reduce((s,[id,n])=>{const p=PRODUCTS.find(x=>x.id===id); return s+(p?p.price*n:0);},0);
      if(items===0){alert('Carrinho vazio. Adicione produtos antes de finalizar.'); return;}
      document.getElementById('pixTotal').textContent=currency(total);
      document.getElementById('pixModal').style.display='flex';
    });

    document.getElementById('closeModal').addEventListener('click',()=>{document.getElementById('pixModal').style.display='none';});
    document.getElementById('search').addEventListener('input', e=>{renderProducts(e.target.value); updateUI();});

    load(); renderProducts(); updateUI();
  </script>
</body>
</html>